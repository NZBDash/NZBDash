@{
    ViewBag.Title = "NzbGet";
}

<h2>@ViewBag.Title</h2>
<h3 id="status"></h3>


@*<ul class="nav nav-tabs">
    <li id="HomeTab" role="presentation" class="active"><a id="Home" href="#">Home</a></li>
    <li id="HistoryTab" role="presentation"><a id="History" href="#">History</a></li>
</ul>*@

<div id="tabstrip">
    <ul>
        <li class="k-state-active">
            Home
        </li>
        <li>
            History
        </li>
    </ul>
    <div>
        <div class="DownloadArea">
        </div>
    </div>
    <div>
        <div id="historyList">
            <div id="pager"></div>
            <script type="text/x-kendo-template" id="template">
                <div class="product">

                    <h3>#: Id #</h3>
                    <p>#: Name #</p>
                    <p>#: Status #</p>
                </div>
            </script>
        </div>
    </div>
</div>


<div id="HistoryArea"></div>


@section scripts
{



    <script>
        $(function () {

            // http://docs.telerik.com/kendo-ui/api/javascript/ui/tabstrip
            $("#tabstrip").kendoTabStrip({
                animation: {
                    open: {
                        effects: "fadeIn"
                    }
                }
            });

                var historyDataSource = new kendo.data.DataSource({
                    transport: {
                        read: {
                            url: '@Url.Action("History","NzbGet")',
                            dataType: "json"
                        }
                    },
                    pageSize: 2
                });

                $("#pager").kendoPager({
                    dataSource: historyDataSource
                });

                $("#historyList").kendoListView({
                    dataSource: historyDataSource,
                    template: kendo.template($("#template").html())
                });

                setInterval(function() {

                    $.ajax("@Url.Action("GetNzbGetDownloadInformation")").success(function(view) {
                        $('#DownloadArea').html(view);
                    });


                    $.ajax("@Url.Action("GetNzbGetStatus")").success(function(data) {
                        $('#status').html(data.Status);
                    });
                }, 2000);

                @*$('#History').click(function() {
                $.ajax("@Url.Action("GetNzbGetDownloadHistory")").success(function(view) {
                    $('#HistoryArea').html(view);
                    $('#HomeTab').removeClass("active");
                    $('#HistoryTab').addClass("active");
                    $('#DownloadArea').hide();
                    $('#HistoryArea').show();
                });
            });*@

                $('#Home').click(function() {
                    $.ajax("@Url.Action("GetNzbGetDownloadInformation")").success(function(view) {
                        $('#ContentArea').html(view);
                        $('#HomeTab').addClass("active");
                        $('#HistoryTab').removeClass("active");
                        $('#DownloadArea').show();
                        $('#HistoryArea').hide();
                    });
                });

            });
    </script>

}

@*<div id="example">

        <script src="http://demos.telerik.com/kendo-ui/content/shared/js/products.js"></script>

        <div class="demo-section k-content wide">
            <div id="listView"></div>
            <div id="pager" class="k-pager-wrap"></div>
        </div>

        <script type="text/x-kendo-template" id="template">
            <div class="product">

                <h3>#: ProductName #</h3>
                <p>#: UnitsInStock #</p>
            </div>
        </script>

        <script>
            $(function () {
                var dataSource = new kendo.data.DataSource({
                    data: products,
                    pageSize: 21
                });

                $("#pager").kendoPager({
                    dataSource: dataSource
                });

                $("#listView").kendoListView({
                    dataSource: dataSource,
                    template: kendo.template($("#template").html())
                });
            });
        </script>

        <style>
            #listView {
                padding: 10px 5px;
                margin-bottom: -1px;
                min-height: 510px;
            }

            .product {
                float: left;
                position: relative;
                width: 111px;
                height: 170px;
                margin: 0 5px;
                padding: 0;
            }

                .product img {
                    width: 110px;
                    height: 110px;
                }

                .product h3 {
                    margin: 0;
                    padding: 3px 5px 0 0;
                    max-width: 96px;
                    overflow: hidden;
                    line-height: 1.1em;
                    font-size: .9em;
                    font-weight: normal;
                    text-transform: uppercase;
                    color: #999;
                }

                .product p {
                    visibility: hidden;
                }

                .product:hover p {
                    visibility: visible;
                    position: absolute;
                    width: 110px;
                    height: 110px;
                    top: 0;
                    margin: 0;
                    padding: 0;
                    line-height: 110px;
                    vertical-align: middle;
                    text-align: center;
                    color: #fff;
                    background-color: rgba(0,0,0,0.75);
                    transition: background .2s linear, color .2s linear;
                    -moz-transition: background .2s linear, color .2s linear;
                    -webkit-transition: background .2s linear, color .2s linear;
                    -o-transition: background .2s linear, color .2s linear;
                }

            .k-listview:after {
                content: ".";
                display: block;
                height: 0;
                clear: both;
                visibility: hidden;
            }
        </style>
    </div>*@

